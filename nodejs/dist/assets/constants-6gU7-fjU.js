var W=Object.defineProperty;var G=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t,r)=>(G(e,typeof t!="symbol"?t+"":t,r),r);var ge={Stringify:1,BeforeStream:2,Stream:3},C=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},K=/[&<>'"]/,Q=async e=>{let t="";const r=[];for(let a=e.length-1;t+=e[a],a--,!(a<0);a--){let s=await e[a];typeof s=="object"&&r.push(...s.callbacks||[]);const n=s.isEscaped;if(s=await(typeof s=="object"?s.toString():s),typeof s=="object"&&r.push(...s.callbacks||[]),s.isEscaped??n)t+=s;else{const i=[t];m(s,i),t=i[0]}}return C(t,r)},m=(e,t)=>{const r=e.search(K);if(r===-1){t[0]+=e;return}let a,s,n=0;for(s=r;s<e.length;s++){switch(e.charCodeAt(s)){case 34:a="&quot;";break;case 39:a="&#39;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}t[0]+=e.substring(n,s)+a,n=s+1}t[0]+=e.substring(n,s)},Y=async(e,t,r,a,s)=>{const n=e.callbacks;if(!(n!=null&&n.length))return Promise.resolve(e);s?s[0]+=e:s=[e];const i=Promise.all(n.map(c=>c({phase:t,buffer:s,context:a}))).then(c=>Promise.all(c.filter(Boolean).map(l=>Y(l,t,!1,a,s))).then(()=>s[0]));return r?C(await i,n):i},j=Symbol("RENDERER"),L=Symbol("ERROR_HANDLER"),h=Symbol("STASH"),B=e=>{e&&"className"in e&&(e.class=e.className,delete e.className)},ee=(e,t,r)=>{typeof e=="string"&&B(t);let a;return t&&"children"in t?(a=t.children,delete t.children):a=[],{tag:e,props:t,key:r,children:Array.isArray(a)?a:[a]}},te=e=>ee("",e,void 0),b=e=>({value:t,children:r})=>{const a=te({children:[{tag:()=>{e.push(t)}},...r,{tag:()=>{e.pop()}}]});return a[L]=s=>{throw e.pop(),s},a},se=e=>{const t=[e],r={values:t,Provider:b(t)};return E.push(r),r},E=[],ye=e=>{const t=[e],r={values:t,Provider(a){t.push(a.value);let s;try{s=a.children?(Array.isArray(a.children)?new F("",{},a.children):a.children).toString():""}finally{t.pop()}return s instanceof Promise?s.then(n=>C(n,n.callbacks)):C(s)}};return r.Provider[j]=b(t),E.push(r),r},ae=e=>e.values.at(-1),re=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],ne=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],R=(e,t)=>{for(let r=0,a=e.length;r<a;r++){const s=e[r];if(typeof s=="string")m(s,t);else{if(typeof s=="boolean"||s===null||s===void 0)continue;s instanceof d?s.toStringToBuffer(t):typeof s=="number"||s.isEscaped?t[0]+=s:s instanceof Promise?t.unshift("",s):R(s,t)}}},d=class{constructor(e,t,r){y(this,"tag");y(this,"props");y(this,"key");y(this,"children");y(this,"isEscaped",!0);y(this,"localContexts");this.tag=e,this.props=t,this.children=r}toString(){var t,r;const e=[""];(t=this.localContexts)==null||t.forEach(([a,s])=>{a.values.push(s)});try{this.toStringToBuffer(e)}finally{(r=this.localContexts)==null||r.forEach(([a])=>{a.values.pop()})}return e.length===1?e[0]:Q(e)}toStringToBuffer(e){const t=this.tag,r=this.props;let{children:a}=this;e[0]+=`<${t}`;const s=Object.keys(r||{});for(let n=0,i=s.length;n<i;n++){const c=s[n],l=r[c];if(c==="style"&&typeof l=="object"){const p=Object.keys(l).map(f=>`${f.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`)}:${l[f]}`).join(";");e[0]+=' style="',m(p,e),e[0]+='"'}else if(typeof l=="string")e[0]+=` ${c}="`,m(l,e),e[0]+='"';else if(l!=null)if(typeof l=="number"||l.isEscaped)e[0]+=` ${c}="${l}"`;else if(typeof l=="boolean"&&ne.includes(c))l&&(e[0]+=` ${c}=""`);else if(c==="dangerouslySetInnerHTML"){if(a.length>0)throw"Can only set one of `children` or `props.dangerouslySetInnerHTML`.";a=[C(l.__html)]}else if(l instanceof Promise)e[0]+=` ${c}="`,e.unshift('"',l);else if(typeof l=="function"){if(!c.startsWith("on"))throw`Invalid prop '${c}' of type 'function' supplied to '${t}'.`}else e[0]+=` ${c}="`,m(l.toString(),e),e[0]+='"'}if(re.includes(t)&&a.length===0){e[0]+="/>";return}e[0]+=">",R(a,e),e[0]+=`</${t}>`}},ie=class extends d{toStringToBuffer(e){const{children:t}=this,r=this.tag.call(null,{...this.props,children:t.length<=1?t[0]:t});if(r instanceof Promise)if(E.length===0)e.unshift("",r);else{const a=E.map(s=>[s,s.values.at(-1)]);e.unshift("",r.then(s=>(s instanceof d&&(s.localContexts=a),s)))}else r instanceof d?r.toStringToBuffer(e):typeof r=="number"||r.isEscaped?e[0]+=r:m(r,e)}},F=class extends d{toStringToBuffer(e){R(this.children,e)}},me=(e,t,...r)=>{let a;t&&(a=t==null?void 0:t.key,delete t.key);const s=le(e,t,r);return s.key=a,s},le=(e,t,r)=>typeof e=="function"?new ie(e,t,r):(B(t),new d(e,t,r)),de=({children:e})=>new F("",{},Array.isArray(e)?e:e?[e]:[]),oe={Change:"Input",DoubleClick:"DblClick"},ce={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},N=[],A=void 0,g=e=>Array.isArray(e),M=e=>{const t=e.match(new RegExp("^on([A-Z][a-zA-Z]+?)((?<!Pointer)Capture)?$"));if(t){const[,r,a]=t;return[(oe[r]||r).toLowerCase(),!!a]}},fe=(e,t,r)=>{t||(t={});for(const[a,s]of Object.entries(t))if(!r||r[a]!==s){const n=M(a);if(n){if(typeof s!="function")throw new Error(`Event handler for "${a}" is not a function`);r&&e.removeEventListener(n[0],r[a],n[1]),e.addEventListener(n[0],s,n[1])}else if(a==="dangerouslySetInnerHTML"&&s)e.innerHTML=s.__html;else if(a==="ref")typeof s=="function"?s(e):"current"in s&&(s.current=e);else if(a==="style")typeof s=="string"?e.style.cssText=s:(e.style.cssText="",Object.assign(e.style,s));else{const i=e.nodeName;if(a==="value"){if(i==="INPUT"||i==="TEXTAREA"||i==="SELECT"){if(e.value=s==null||s===!1?null:s,i==="TEXTAREA"){e.textContent=s;continue}else if(i==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(a==="checked"&&i==="INPUT"||a==="selected"&&i==="OPTION")&&(e[a]=s);s==null||s===!1?e.removeAttribute(a):s===!0?e.setAttribute(a,""):typeof s=="string"||typeof s=="number"?e.setAttribute(a,s):e.setAttribute(a,s.toString())}}if(r){for(const[a,s]of Object.entries(r))if(!(a in t)){const n=M(a);n?e.removeEventListener(n[0],s,n[1]):a==="ref"?typeof s=="function"?s(null):s.current=null:e.removeAttribute(a)}}},ue=(e,t)=>{if(t.s){const a=t.s;return t.s=void 0,a}t[h][0]=0,N.push([e,t]);const r=t.tag[j]||t.tag;try{return[r.call(null,{...t.props,children:t.children})]}finally{N.pop()}},H=(e,t,r,a,s)=>{var n;a.push(...e.vR),typeof e.tag=="function"&&((n=e[h][1][z])==null||n.forEach(i=>s.push(i))),e.vC.forEach(i=>{g(i)?r.push(i):typeof i.tag=="function"||i.tag===""?(i.c=t,H(i,t,r,a,s)):(r.push(i),a.push(...i.vR))})},D=e=>{if(e){if(e.e)return e.e}else return null;if(e.vC)for(let t=0,r=e.vC.length;t<r;t++){const a=D(e.vC[t]);if(a)return a}return D(e.nN)},X=e=>{var t,r,a,s;g(e)||((r=(t=e[h])==null?void 0:t[1][z])==null||r.forEach(n=>{var i;return(i=n[2])==null?void 0:i.call(n)}),(a=e.vC)==null||a.forEach(X)),(s=e.e)==null||s.remove(),e.tag=void 0},U=(e,t)=>{e.tag!==void 0&&(e.c=t,V(e,t))},ve=(e,t)=>{g(e)?t.textContent=e[0]:V(e,t)},O=(e,t)=>{if(t){for(let r=0,a=e.length;r<a;r++)if(e[r]===t)return r}},V=(e,t)=>{var c;const r=[],a=[],s=[];H(e,t,r,a,s);const n=t.childNodes;let i=O(n,D(e.nN))??O(n,(c=r.find(l=>l.e))==null?void 0:c.e)??n.length;for(let l=0,p=r.length;l<p;l++,i++){const f=r[l];let o;g(f)?(f.e&&f[1]&&(f.e.textContent=f[0]),f[1]=!1,o=f.e||(f.e=document.createTextNode(f[0]))):(o=f.e||(f.e=f.n?document.createElementNS(f.n,f.tag):document.createElement(f.tag)),fe(o,f.props,f.pP),ve(f,o)),n[i]!==o&&n[i-1]!==f.e&&t.insertBefore(o,n[i]||null)}a.forEach(X),s.forEach(([,l])=>l==null?void 0:l()),requestAnimationFrame(()=>{s.forEach(([,,,l])=>l==null?void 0:l())})},k=(e,t,r,a)=>{var p;if(t.tag===void 0)return;let s;a||(a=typeof t.tag=="function"?ue(e,t):t.children),((p=a[0])==null?void 0:p.tag)===""&&(s=a[0][L],r||(r=t));const n=t.vC?[...t.vC]:[],i=[],c=[];let l;try{a.flat().forEach(f=>{let o=Z(f);if(o){l&&(l.nN=o),l=o,typeof o.tag=="function"&&E.length>0&&(o[h][2]=E.map(v=>[v,v.values.at(-1)]));let u;const S=n.findIndex(v=>v.key===o.key);if(S!==-1&&(u=n[S],n.splice(S,1)),u)g(o)?g(u)?(u[0]!==o[0]&&(u[0]=o[0],u[1]=!0),o=u):c.push(u):u.tag!==o.tag?c.push(u):(u.pP=u.props,u.props=o.props,u.children=o.children,o=u);else if(!g(o)&&A){const v=ae(A);v&&(o.n=v)}g(o)||k(e,o,r),i.push(o)}}),t.vC=i,c.push(...n),t.vR=c}catch(f){if(s){const o=s(f,()=>w([0,!1,e[2]],r));if(o){e[0]===1?e[1]=!0:k(e,t,r,[o]);return}}throw f}},Z=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return[e.toString(),!0];if(typeof e.tag=="function")e[h]=[0,[]];else{const t=ce[e.tag];t&&(e.n=t,A||(A=se("")),e.children=[{tag:A.Provider,props:{value:t},children:e.children}])}return e}},q=(e,t,r)=>{e.c===t&&(e.c=r,e.vC.forEach(a=>q(a,t,r)))},_=(e,t)=>{var r,a;(r=t[h][2])==null||r.forEach(([s,n])=>{s.values.push(n)}),k(e,t,void 0),(a=t[h][2])==null||a.forEach(([s])=>{s.values.pop()}),(e[0]!==1||!e[1])&&U(t,t.c)},T=new WeakMap,w=async(e,t)=>{const r=T.get(t);r&&r[0](void 0);let a;const s=new Promise(i=>a=i);T.set(t,[a,()=>{e[2]?e[2](e,t,i=>{_(i,t)}).then(()=>a(t)):(_(e,t),a(t))}]),await Promise.resolve();const n=T.get(t);return n&&(T.delete(t),n[1]()),s},Ee=(e,t)=>{const r=Z({tag:"",children:[e]});k([],r,void 0);const a=document.createDocumentFragment();U(r,a),q(r,a,t),t.replaceChildren(a)},P=0,z=1,I=3,x=new WeakMap,he=void 0,$=[],J=e=>{var t;e.vC&&(e.s=e.vC,e.vC=void 0),(t=e.s)==null||t.forEach(J)},Ce=e=>{var i;const t=()=>typeof e=="function"?e():e,r=N.at(-1);if(!r)return[t(),()=>{}];const[,a]=r,s=(i=a[h][1])[P]||(i[P]=[]),n=a[h][0]++;return s[n]||(s[n]=[t(),c=>{const l=he,p=s[n];if(typeof c=="function"&&(c=c(p[0])),c!==p[0])if(p[0]=c,$.length){const f=$.at(-1);w([f,!1,l],a).then(o=>{if(!o||f!==2)return;const u=o.vC;(()=>{setTimeout(()=>{if(u!==o.vC)return;const v=Object.assign({},o);v.vC=void 0,k([],v,void 0),J(v),o.s=v.s,w([0,!1,l],o)})})()})}else w([0,!1,l],a)}])},ke=e=>{var c;const t=x.get(e);if(t){if(t.length===2)throw t[1];return t[0]}e.then(l=>x.set(e,[l]),l=>x.set(e,[void 0,l]));const r=N.at(-1);if(!r)throw e;const[,a]=r,s=(c=a[h][1])[I]||(c[I]=[]),n=a[h][0]++;e.then(l=>{s[n]=[l]},l=>{s[n]=[void 0,l]});const i=s[n];if(i){if(i.length===2)throw i[1];return i[0]}throw e};const Se="component-name",Te="data-serialized-props",we="data-hono-template",Ne="__importing_islands";export{Se as C,Te as D,de as F,ge as H,Ne as I,Y as a,Ee as b,ye as c,ee as d,m as e,we as f,Ce as g,le as h,te as i,me as j,L as k,ke as l,C as r,Q as s,ae as u};
